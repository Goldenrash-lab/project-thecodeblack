{"mappings":"sgBAIA,IAcQA,EAZFC,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,YAAaF,SAASC,cAAc,sBACpCE,iBAAkBH,SAASC,cAAc,sBACzCG,cAAeJ,SAASC,cAAc,wBACtCI,YAAaL,SAASC,cAAc,iBACpCK,aAAcN,SAASC,cAAc,mBACrCM,aAAcP,SAASC,cAAc,mBAkFvC,SAASO,EAAgBC,GACR,IAAXA,IACFX,EAAKK,iBAAiBO,UAAUC,OAAO,mBACvCb,EAAKM,cAAcM,UAAUE,IAAI,oBAGnCd,EAAKC,YAAYc,UAAY,SAAgBC,OAAPL,EAAO,I,EAnFvCZ,EAAM,GAAciB,OAdV,mDAcoBA,OADjB,gCASZC,MAAMlB,EANG,CACdmB,QAAS,CACP,eAAgB,sBAKjBC,MAAK,SAAAC,GACJ,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,uBAAkCN,OAAXI,EAAIG,SAI7C,OAAOH,EAAII,M,IAEZC,OAAM,SAAAC,GAEL,MADAC,QAAQC,MAAM,2BAA4BF,GACpCA,C,KAKTP,MAAK,SAAAU,GA8FR,IAlF4BC,EACpBC,EAiDiBC,EACnBC,EA5DWJ,EAAQA,QAAQK,OA4Fd,GAAKC,OAAOC,YAAc,KACzCpC,EAAKI,YAAYQ,UAAUE,IAAI,iBA5F/BJ,EAAgBmB,EAAQA,QAAQK,QAQRJ,EAPLD,EAAQA,QAQvBE,EAASD,EACZO,KAAI,SAAAC,GACH,IAAQC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,IAAKC,EAA2BH,EAA3BG,KAAMC,EAAqBJ,EAArBI,MAAOC,EAAcL,EAAdK,KAEpC,OAFkDL,EAARM,IAEnC,2GASmD5B,OAN3CwB,EAAI,iNAUHxB,OAJ0CyB,EAAK,6MAQ/CzB,OAJAuB,EAAS,kKASevB,OALxB2B,EAAK,6HAKyB3B,OAAN0B,EAAM,6gB,IAS/CG,KAAK,IAEA7C,EAAKI,YAAYW,UAAYgB,EAYdC,EAxDLH,EAAQA,QAyDtBI,EAAa,EAEjBD,EAAWK,KAAI,SAAAC,GACb,OAAQL,GAAcK,EAAGI,K,IAGnB1C,EAAKS,aAAaM,UAAY,uFAEsBC,OAAtBiB,EAAWa,QAAQ,GAAG,gB,IA/D3DrB,OAAM,SAAAG,GACLD,QAAQC,MAAM,2BAA4BA,E,IA6F9C5B,EAAKI,YAAY2C,iBAAiB,SA3BlC,SAA0BC,GACxB,IAAMC,EAAMD,EAAME,OAAOC,QAAQ,iBAC5BF,IAILvC,IAEAuC,EAAIG,cAAcvC,S,IAoBpBb,EAAKQ,aAAauC,iBAAiB,SAjBnC,WAGE/C,EAAKC,YAAYc,UAAY,WAC7Bf,EAAKK,iBAAiBO,UAAUC,OAAO,mBACvCb,EAAKM,cAAcS,UAAY,E","sources":["src/js/cart.js"],"sourcesContent":["import '../../node_modules/modern-normalize/modern-normalize.css';\nimport './templates/footer-validation';\nimport './templates/footer-postApi';\n\nconst BASE_URL = `https://food-boutique.b.goit.study/api/products`;\n\nconst refs = {\n  cartHeading: document.querySelector('#cart-heading'),\n  productList: document.querySelector('#cart-product-list'),\n  warningContainer: document.querySelector('#warning-container'),\n  baseContainer: document.querySelector('#cart-base-container'),\n  closeButton: document.querySelector('.close-button'),\n  deleteAllBtn: document.querySelector('#button-wrapper'),\n  totalWrapper: document.querySelector('#total-wrapper'),\n};\n\nfunction fetchProducts() {\n  const END_POINT = `?keyword=Ac&page=1&limit=100`;\n  const url = `${BASE_URL}${END_POINT}`;\n\n  const options = {\n    headers: {\n      'content-type': 'application/json',\n    },\n  };\n\n  return fetch(url, options)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n\n      // console.log(res.json())\n      return res.json();\n    })\n    .catch(err => {\n      console.error('Error fetching products:', err);\n      throw err;\n    });\n}\n\nfetchProducts()\n  .then(results => {\n    // console.log(results)\n    // results.results = [];\n    scrollAdding(results.results.length);\n    cartLargeNumber(results.results.length);\n    renderProductsCart(results.results);\n    countTotalPrice(results.results);\n  })\n  .catch(error => {\n    console.error('Error fetching products:', error);\n  });\n\nfunction renderProductsCart(products) {\n  const markup = products\n    .map(el => {\n      const { category, img, name, price, size, _id } = el;\n\n      return `<li class=\"product-item\">\n            <img\n              class=\"product-item-img\"\n              src=\"${img}\"\n              alt=\"\"\n            />\n\n            <div class=\"product-item-content\">\n              <div class=\"characteristic-wrapper\">\n                <h3 class=\"product-item-heading product-bold\">${name}</h3>\n                <div class=\"charactetistic-text-container\">\n                  <span class=\"product-item-text\">\n                    <span class=\"key-span\">Category:</span>\n                    ${category}\n                  </span>\n                  <span class=\"product-item-text\">\n                    <span class=\"key-span\">Size:</span>\n                    ${size}\n                  </span>\n                </div>\n              </div>\n\n              <p class=\"product-price\">&#36;${price}</p>\n            </div>\n            <button type=\"button\" class=\"close-button product-bold\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"close-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 12 12\" fill=\"none\">\n                    <path d=\"M11.0625 2.11488L9.88512 0.9375L6 4.82262L2.11488 0.9375L0.9375 2.11488L4.82262 6L0.9375 9.88512L2.11488 11.0625L6 7.17738L9.88512 11.0625L11.0625 9.88512L7.17738 6L11.0625 2.11488Z\" fill=\"#010101\"/>\n                </svg>\n              </button>\n          </li>`;\n    })\n    .join('');\n\n  return (refs.productList.innerHTML = markup);\n}\n\nfunction cartLargeNumber(number) {\n  if (number === 0) {\n    refs.warningContainer.classList.remove('visually-hidden');\n    refs.baseContainer.classList.add('visually-hidden');\n  }\n\n  refs.cartHeading.innerHTML = `CART (${number})`;\n}\n\nfunction countTotalPrice(priceArray) {\n  let totalPrice = 0;\n\n  priceArray.map(el => {\n    return (totalPrice += el.price);\n  });\n\n  return (refs.totalWrapper.innerHTML = `\n        <span class=\"key-span\">Sum:</span>\n        <span class=\"price-text\">&#36;${totalPrice.toFixed(2)}</span>\n    `);\n}\n\nfunction clickDeleteElBtn(event) {\n  const btn = event.target.closest('.close-button');\n  if (!btn) {\n    return;\n  }\n\n  cartLargeNumber();\n\n  btn.parentElement.remove();\n}\n\nfunction clickDeleteAllBtn() {\n  // refs.productList.classList.add('visually-hidden');\n\n  refs.cartHeading.innerHTML = 'CART (0)';\n  refs.warningContainer.classList.remove('visually-hidden');\n  refs.baseContainer.innerHTML = '';\n}\n\nfunction scrollAdding(listLength) {\n  if (listLength > 3 && window.innerWidth >= 768) {\n    refs.productList.classList.add('scroll-adding');\n  }\n}\n\n// function\n\nrefs.productList.addEventListener('click', clickDeleteElBtn);\nrefs.deleteAllBtn.addEventListener('click', clickDeleteAllBtn);\n"],"names":["url","$ce375e1befa17f1c$var$refs","cartHeading","document","querySelector","productList","warningContainer","baseContainer","closeButton","deleteAllBtn","totalWrapper","$ce375e1befa17f1c$var$cartLargeNumber","number","classList","remove","add","innerHTML","concat","fetch","headers","then","res","ok","Error","status","json","catch","err","console","error","results","products","markup","priceArray","totalPrice","length","window","innerWidth","map","el","category","img","name","price","size","_id","join","toFixed","addEventListener","event","btn","target","closest","parentElement"],"version":3,"file":"cart.a88c25bb.js.map"}