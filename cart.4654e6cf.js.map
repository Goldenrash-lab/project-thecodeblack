{"mappings":"AAAA,MAGMA,EAAO,CACTC,YAAaC,SAASC,cAAc,iBACpCC,YAAaF,SAASC,cAAc,sBACpCE,iBAAkBH,SAASC,cAAc,sBACzCG,cAAeJ,SAASC,cAAc,wBACtCI,YAAaL,SAASC,cAAc,iBACpCK,aAAcN,SAASC,cAAc,mBACrCM,aAAcP,SAASC,cAAc,mBAyFzC,SAASO,EAAgBC,GACN,IAAXA,IACAX,EAAKK,iBAAiBO,UAAUC,OAAO,mBACvCb,EAAKM,cAAcM,UAAUE,IAAI,oBAGrCd,EAAKC,YAAYc,UAAY,SAASJ,I,CAhF/BK,MARK,8EAEI,CACZC,QAAS,CACL,eAAgB,sBAKnBC,MAAKC,IACF,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAM,uBAAuBF,EAAIG,UAI/C,OAAOH,EAAII,MAAM,IAEpBC,OAAMC,IAEH,MADAC,QAAQC,MAAM,2BAA4BF,GACpCA,CAAG,IAKhBP,MAAKU,IAGWA,EAAQA,QAAQC,OAiGhB,GAAKC,OAAOC,YAAc,KACvC/B,EAAKI,YAAYQ,UAAUE,IAAI,iBAjG/BJ,EAAgBkB,EAAQA,QAAQC,QAQxC,SAA4BG,GACxB,MAAMC,EAASD,EAASE,KAAIC,IACxB,MAAMC,SACFA,EAAQC,IACRA,EAAGC,KACHA,EAAIC,MACJA,EAAKC,KACLA,EAAIC,IACJA,GACAN,EAEJ,MAAO,2GAGME,iNAM2CC,6MAI1CF,kKAIAI,6HAKwBD,6gBAO9B,IACTG,KAAK,IAED1C,EAAKI,YAAYW,UAAYkB,C,CAlDhCU,CAAmBf,EAAQA,SA8DnC,SAAyBgB,GACrB,IAAIC,EAAa,EAEjBD,EAAWV,KAAIC,GACJU,GAAcV,EAAGI,QAGrBvC,EAAKS,aAAaM,UAAY,uFAED8B,EAAWC,QAAQ,iB,CAtEnDC,CAAgBnB,EAAQA,QAAQ,IAEnCJ,OAAMG,IACHD,QAAQC,MAAM,2BAA4BA,EAAM,IAmGxD3B,EAAKI,YAAY4C,iBAAiB,SA5BlC,SAA0BC,GACtB,MAAMC,EAAMD,EAAME,OAAOC,QAAQ,iBAC5BF,IAILxC,IAEAwC,EAAIG,cAAcxC,S,IAqBtBb,EAAKQ,aAAawC,iBAAiB,SAlBnC,WAGIhD,EAAKC,YAAYc,UAAY,WAC7Bf,EAAKK,iBAAiBO,UAAUC,OAAO,mBACvCb,EAAKM,cAAcS,UAAY,E","sources":["src/js/cart.js"],"sourcesContent":["const BASE_URL = `https://food-boutique.b.goit.study/api/products`;\n\n\nconst refs = {\n    cartHeading: document.querySelector('#cart-heading'),\n    productList: document.querySelector('#cart-product-list'),\n    warningContainer: document.querySelector('#warning-container'),\n    baseContainer: document.querySelector('#cart-base-container'),\n    closeButton: document.querySelector('.close-button'),\n    deleteAllBtn: document.querySelector('#button-wrapper'),\n    totalWrapper: document.querySelector('#total-wrapper')\n}\n\n\n\nfunction fetchProducts() {\n    const END_POINT = `?keyword=Ac&page=1&limit=100`;\n    const url = `${BASE_URL}${END_POINT}`;\n\n    const options = {\n        headers: {\n            \"content-type\": \"application/json\"\n        }\n    }\n\n    return fetch(url, options)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(`HTTP error! Status: ${res.status}`);\n            }\n\n            // console.log(res.json())\n            return res.json();\n        })\n        .catch(err => {\n            console.error('Error fetching products:', err);\n            throw err;\n        });\n}\n\nfetchProducts()\n    .then(results => {\n        // console.log(results)\n        // results.results = [];\n        scrollAdding(results.results.length)\n        cartLargeNumber(results.results.length);\n        renderProductsCart(results.results);\n        countTotalPrice(results.results);\n    })\n    .catch(error => {\n        console.error('Error fetching products:', error);\n    });\n\nfunction renderProductsCart(products) {\n    const markup = products.map(el => {\n        const {\n            category,\n            img,\n            name,\n            price,\n            size,\n            _id\n        } = el;\n\n        return `<li class=\"product-item\">\n            <img\n              class=\"product-item-img\"\n              src=\"${img}\"\n              alt=\"\"\n            />\n\n            <div class=\"product-item-content\">\n              <div class=\"characteristic-wrapper\">\n                <h3 class=\"product-item-heading product-bold\">${name}</h3>\n                <div class=\"charactetistic-text-container\">\n                  <span class=\"product-item-text\">\n                    <span class=\"key-span\">Category:</span>\n                    ${category}\n                  </span>\n                  <span class=\"product-item-text\">\n                    <span class=\"key-span\">Size:</span>\n                    ${size}\n                  </span>\n                </div>\n              </div>\n\n              <p class=\"product-price\">&#36;${price}</p>\n            </div>\n            <button type=\"button\" class=\"close-button product-bold\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"close-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 12 12\" fill=\"none\">\n                    <path d=\"M11.0625 2.11488L9.88512 0.9375L6 4.82262L2.11488 0.9375L0.9375 2.11488L4.82262 6L0.9375 9.88512L2.11488 11.0625L6 7.17738L9.88512 11.0625L11.0625 9.88512L7.17738 6L11.0625 2.11488Z\" fill=\"#010101\"/>\n                </svg>\n              </button>\n          </li>`;\n    }).join('')\n\n    return refs.productList.innerHTML = markup;\n}\n\nfunction cartLargeNumber(number) {\n    if (number === 0) {\n        refs.warningContainer.classList.remove('visually-hidden');\n        refs.baseContainer.classList.add('visually-hidden');\n    }\n\n    refs.cartHeading.innerHTML = `CART (${number})`;\n}\n\nfunction countTotalPrice(priceArray) {\n    let totalPrice = 0;\n\n    priceArray.map(el => {\n        return totalPrice += el.price;\n    })\n\n    return refs.totalWrapper.innerHTML = `\n        <span class=\"key-span\">Sum:</span>\n        <span class=\"price-text\">&#36;${totalPrice.toFixed(2)}</span>\n    `\n}\n\nfunction clickDeleteElBtn(event) {\n    const btn = event.target.closest('.close-button');\n    if (!btn) {\n        return;\n    }\n\n    cartLargeNumber();\n\n    btn.parentElement.remove();\n}\n\nfunction clickDeleteAllBtn() {\n    // refs.productList.classList.add('visually-hidden');\n\n    refs.cartHeading.innerHTML = 'CART (0)'\n    refs.warningContainer.classList.remove('visually-hidden');\n    refs.baseContainer.innerHTML = '';\n}\n\nfunction scrollAdding(listLength) {\n    if (listLength > 3 && window.innerWidth >= 768) {\n        refs.productList.classList.add('scroll-adding')\n    }\n}\n\n\n// function \n\nrefs.productList.addEventListener('click', clickDeleteElBtn);\nrefs.deleteAllBtn.addEventListener('click', clickDeleteAllBtn);\n"],"names":["$915de8ffc4dd3149$var$refs","cartHeading","document","querySelector","productList","warningContainer","baseContainer","closeButton","deleteAllBtn","totalWrapper","$915de8ffc4dd3149$var$cartLargeNumber","number","classList","remove","add","innerHTML","fetch","headers","then","res","ok","Error","status","json","catch","err","console","error","results","length","window","innerWidth","products","markup","map","el","category","img","name","price","size","_id","join","$915de8ffc4dd3149$var$renderProductsCart","priceArray","totalPrice","toFixed","$915de8ffc4dd3149$var$countTotalPrice","addEventListener","event","btn","target","closest","parentElement"],"version":3,"file":"cart.4654e6cf.js.map"}